---
url: "https://supabase.com/docs/guides/database/extensions/wrappers/clerk"
title: "Clerk | Supabase Docs"
---

[![Supabase wordmark](https://supabase.com/docs/supabase-dark.svg)![Supabase wordmark](https://supabase.com/docs/supabase-light.svg)DOCS](https://supabase.com/docs)

- [Start](https://supabase.com/docs/guides/getting-started)
- Products
- Build
- Manage
- Reference
- Resources

[![Supabase wordmark](https://supabase.com/docs/supabase-dark.svg)![Supabase wordmark](https://supabase.com/docs/supabase-light.svg)DOCS](https://supabase.com/docs)

Search docs...

K

[Sign up](https://supabase.com/dashboard)

Main menu

[Database](https://supabase.com/docs/guides/database/overview)

[Overview](https://supabase.com/docs/guides/database/overview)

Fundamentals[Connecting to your database](https://supabase.com/docs/guides/database/connecting-to-postgres)
[Importing data](https://supabase.com/docs/guides/database/import-data)
[Securing your data](https://supabase.com/docs/guides/database/secure-data)

Working with your database (basics)[Managing tables, views, and data](https://supabase.com/docs/guides/database/tables)
[Working with arrays](https://supabase.com/docs/guides/database/arrays)
[Managing indexes](https://supabase.com/docs/guides/database/postgres/indexes)
[Querying joins and nested tables](https://supabase.com/docs/guides/database/joins-and-nesting)
[JSON and unstructured data](https://supabase.com/docs/guides/database/json)

Working with your database (intermediate)[Implementing cascade deletes](https://supabase.com/docs/guides/database/postgres/cascade-deletes)
[Managing enums](https://supabase.com/docs/guides/database/postgres/enums)
[Managing database functions](https://supabase.com/docs/guides/database/functions)
[Managing database triggers](https://supabase.com/docs/guides/database/postgres/triggers)
[Managing database webhooks](https://supabase.com/docs/guides/database/webhooks)
[Using Full Text Search](https://supabase.com/docs/guides/database/full-text-search)
[Partitioning your tables](https://supabase.com/docs/guides/database/partitions)
[Managing connections](https://supabase.com/docs/guides/database/connection-management)
[Managing event triggers](https://supabase.com/docs/guides/database/postgres/event-triggers)

OrioleDB[Overview](https://supabase.com/docs/guides/database/orioledb)

Access and security[Row Level Security](https://supabase.com/docs/guides/database/postgres/row-level-security)
[Column Level Security](https://supabase.com/docs/guides/database/postgres/column-level-security)
[Hardening the Data API](https://supabase.com/docs/guides/database/hardening-data-api)
[Custom Claims & RBAC](https://supabase.com/docs/guides/database/postgres/custom-claims-and-role-based-access-control-rbac)
[Managing Postgres Roles](https://supabase.com/docs/guides/database/postgres/roles)
[Using Custom Postgres Roles](https://supabase.com/docs/guides/storage/schema/custom-roles)
[Managing secrets with Vault](https://supabase.com/docs/guides/database/vault)
[Superuser Access and Unsupported Operations](https://supabase.com/docs/guides/database/postgres/roles-superuser)

Configuration, optimization, and testing[Database configuration](https://supabase.com/docs/guides/database/postgres/configuration)
[Query optimization](https://supabase.com/docs/guides/database/query-optimization)
[Database Advisors](https://supabase.com/docs/guides/database/database-advisors)
[Testing your database](https://supabase.com/docs/guides/database/testing)
[Customizing Postgres config](https://supabase.com/docs/guides/database/custom-postgres-config)

Debugging[Timeouts](https://supabase.com/docs/guides/database/postgres/timeouts)
[Debugging and monitoring](https://supabase.com/docs/guides/database/inspect)
[Debugging performance issues](https://supabase.com/docs/guides/database/debugging-performance)
[Supavisor](https://supabase.com/docs/guides/database/supavisor)
[Troubleshooting](https://supabase.com/docs/guides/database/troubleshooting)

ORM Quickstarts

Prisma

[Drizzle](https://supabase.com/docs/guides/database/drizzle)
[Postgres.js](https://supabase.com/docs/guides/database/postgres-js)

GUI quickstarts[pgAdmin](https://supabase.com/docs/guides/database/pgadmin)
[PSQL](https://supabase.com/docs/guides/database/psql)
[DBeaver](https://supabase.com/docs/guides/database/dbeaver)
[Metabase](https://supabase.com/docs/guides/database/metabase)
[Beekeeper Studio](https://supabase.com/docs/guides/database/beekeeper-studio)

Database replication[Overview](https://supabase.com/docs/guides/database/replication)

Replication

Manual replication

Extensions[Overview](https://supabase.com/docs/guides/database/extensions)
[HypoPG: Hypothetical indexes](https://supabase.com/docs/guides/database/extensions/hypopg)
[plv8 (deprecated)](https://supabase.com/docs/guides/database/extensions/plv8)
[http: RESTful Client](https://supabase.com/docs/guides/database/extensions/http)
[index\_advisor: Query optimization](https://supabase.com/docs/guides/database/extensions/index_advisor)
[PGAudit: Postgres Auditing](https://supabase.com/docs/guides/database/extensions/pgaudit)
[pgjwt (deprecated)](https://supabase.com/docs/guides/database/extensions/pgjwt)
[PGroonga: Multilingual Full Text Search](https://supabase.com/docs/guides/database/extensions/pgroonga)
[pgRouting: Geospatial Routing](https://supabase.com/docs/guides/database/extensions/pgrouting)
[pg\_cron: Schedule Recurring Jobs](https://supabase.com/docs/guides/database/extensions/pg_cron)
[pg\_graphql: GraphQL Support](https://supabase.com/docs/guides/database/extensions/pg_graphql)
[pg\_hashids: Short UIDs](https://supabase.com/docs/guides/database/extensions/pg_hashids)
[pg\_jsonschema: JSON Schema Validation](https://supabase.com/docs/guides/database/extensions/pg_jsonschema)
[pg\_net: Async Networking](https://supabase.com/docs/guides/database/extensions/pg_net)
[pg\_plan\_filter: Restrict Total Cost](https://supabase.com/docs/guides/database/extensions/pg_plan_filter)
[postgres\_fdw: query data from an external Postgres server](https://supabase.com/docs/guides/database/extensions/postgres_fdw)
[pgvector: Embeddings and vector similarity](https://supabase.com/docs/guides/database/extensions/pgvector)
[pg\_stat\_statements: SQL Planning and Execution Statistics](https://supabase.com/docs/guides/database/extensions/pg_stat_statements)
[pg\_repack: Storage Optimization](https://supabase.com/docs/guides/database/extensions/pg_repack)
[PostGIS: Geo queries](https://supabase.com/docs/guides/database/extensions/postgis)
[pgmq: Queues](https://supabase.com/docs/guides/database/extensions/pgmq)
[pgsodium (pending deprecation): Encryption Features](https://supabase.com/docs/guides/database/extensions/pgsodium)
[pgTAP: Unit Testing](https://supabase.com/docs/guides/database/extensions/pgtap)
[plpgsql\_check: PL/pgSQL Linter](https://supabase.com/docs/guides/database/extensions/plpgsql_check)
[timescaledb (deprecated)](https://supabase.com/docs/guides/database/extensions/timescaledb)
[uuid-ossp: Unique Identifiers](https://supabase.com/docs/guides/database/extensions/uuid-ossp)
[RUM: inverted index for full-text search](https://supabase.com/docs/guides/database/extensions/rum)

Foreign Data Wrappers[Overview](https://supabase.com/docs/guides/database/extensions/wrappers/overview)
[Connecting to Auth0](https://supabase.com/docs/guides/database/extensions/wrappers/auth0)
[Connecting to Airtable](https://supabase.com/docs/guides/database/extensions/wrappers/airtable)
[Connecting to AWS Cognito](https://supabase.com/docs/guides/database/extensions/wrappers/cognito)
[Connecting to AWS S3](https://supabase.com/docs/guides/database/extensions/wrappers/s3)
[Connecting to AWS S3 Vectors](https://supabase.com/docs/guides/database/extensions/wrappers/s3_vectors)
[Connecting to BigQuery](https://supabase.com/docs/guides/database/extensions/wrappers/bigquery)
[Connecting to Clerk](https://supabase.com/docs/guides/database/extensions/wrappers/clerk)
[Connecting to ClickHouse](https://supabase.com/docs/guides/database/extensions/wrappers/clickhouse)
[Connecting to DuckDB](https://supabase.com/docs/guides/database/extensions/wrappers/duckdb)
[Connecting to Firebase](https://supabase.com/docs/guides/database/extensions/wrappers/firebase)
[Connecting to Iceberg](https://supabase.com/docs/guides/database/extensions/wrappers/iceberg)
[Connecting to Logflare](https://supabase.com/docs/guides/database/extensions/wrappers/logflare)
[Connecting to MSSQL](https://supabase.com/docs/guides/database/extensions/wrappers/mssql)
[Connecting to Notion](https://supabase.com/docs/guides/database/extensions/wrappers/notion)
[Connecting to Paddle](https://supabase.com/docs/guides/database/extensions/wrappers/paddle)
[Connecting to Redis](https://supabase.com/docs/guides/database/extensions/wrappers/redis)
[Connecting to Snowflake](https://supabase.com/docs/guides/database/extensions/wrappers/snowflake)
[Connecting to Stripe](https://supabase.com/docs/guides/database/extensions/wrappers/stripe)

Examples[Drop All Tables in Schema](https://supabase.com/docs/guides/database/postgres/dropping-all-tables-in-schema)
[Select First Row per Group](https://supabase.com/docs/guides/database/postgres/first-row-in-group)
[Print PostgreSQL Version](https://supabase.com/docs/guides/database/postgres/which-version-of-postgres)
[Replicating from Supabase to External Postgres](https://supabase.com/docs/guides/database/postgres/setup-replication-external)

[![Supabase wordmark](https://supabase.com/docs/supabase-dark.svg)![Supabase wordmark](https://supabase.com/docs/supabase-light.svg)DOCS](https://supabase.com/docs)

- [Start](https://supabase.com/docs/guides/getting-started)
- Products
- Build
- Manage
- Reference
- Resources

[![Supabase wordmark](https://supabase.com/docs/supabase-dark.svg)![Supabase wordmark](https://supabase.com/docs/supabase-light.svg)DOCS](https://supabase.com/docs)

Search docs...

K

[Sign up](https://supabase.com/dashboard)

Database

1. [Database](https://supabase.com/docs/guides/database/overview)
3. Foreign Data Wrappers
5. [Connecting to Clerk](https://supabase.com/docs/guides/database/extensions/wrappers/clerk)

# Clerk

* * *

You can enable the Clerk wrapper right from the Supabase dashboard.

[Open wrapper in dashboard](https://supabase.com/dashboard/project/_/integrations/clerk_wrapper/overview)

[Clerk](https://clerk.com/) is a complete suite of embeddable UIs, flexible APIs, and admin dashboards to authenticate and manage users.

The Clerk Wrapper is a WebAssembly(Wasm) foreign data wrapper which allows you to read data from Clerk for use within your Postgres database.

## Available Versions [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#available-versions)

| Version | Wasm Package URL | Checksum | Required Wrappers Version |
| --- | --- | --- | --- |
| 0.2.0 | `https://github.com/supabase/wrappers/releases/download/wasm_clerk_fdw_v0.2.0/clerk_fdw.wasm` | `89337bb11779d4d654cd3e54391aabd02509d213db6995f7dd58951774bf0e37` | >=0.5.0 |
| 0.1.0 | `https://github.com/supabase/wrappers/releases/download/wasm_clerk_fdw_v0.1.0/clerk_fdw.wasm` | `613be26b59fa4c074e0b93f0db617fcd7b468d4d02edece0b1f85fdb683ebdc4` | >=0.4.0 |

## Preparation [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#preparation)

Before you can query Clerk, you need to enable the Wrappers extension and store your credentials in Postgres.

### Enable Wrappers [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#enable-wrappers)

Make sure the `wrappers` extension is installed on your database:

```
1
create extension if not exists wrappers with schema extensions;
```

### Enable the Clerk Wrapper [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#enable-the-clerk-wrapper)

Enable the Wasm foreign data wrapper:

```
1
create foreign data wrapper wasm_wrapper
2
  handler wasm_fdw_handler
3
  validator wasm_fdw_validator;
```

### Store your credentials (optional) [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#store-your-credentials-optional)

By default, Postgres stores FDW credentials inside `pg_catalog.pg_foreign_server` in plain text. Anyone with access to this table will be able to view these credentials. Wrappers is designed to work with [Vault](https://supabase.com/docs/guides/database/vault), which provides an additional level of security for storing credentials. We recommend using Vault to store your credentials.

```
1
-- Save your Clerk API key in Vault and retrieve the created `key_id`
2
select vault.create_secret(
3
  '<Clerk API key>', -- Clerk API key
4
  'clerk',
5
  'Clerk API key for Wrappers'
6
);
```

### Connecting to Clerk [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#connecting-to-clerk)

We need to provide Postgres with the credentials to access Clerk and any additional options. We can do this using the `create server` command:

With VaultWithout Vault

```
1
create server clerk_server
2
  foreign data wrapper wasm_wrapper
3
  options (
4
    fdw_package_url 'https://github.com/supabase/wrappers/releases/download/wasm_clerk_fdw_v0.1.0/clerk_fdw.wasm',
5
    fdw_package_name 'supabase:clerk-fdw',
6
    fdw_package_version '0.1.0',
7
    fdw_package_checksum '613be26b59fa4c074e0b93f0db617fcd7b468d4d02edece0b1f85fdb683ebdc4',
8
    api_url 'https://api.clerk.com/v1',  -- optional
9
    api_key_id '<key_ID>' -- The Key ID from above.
10
  );
```

Note the `fdw_package_*` options are required, which specify the Wasm package metadata. You can get the available package version list from [above](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#available-versions).

### Create a schema [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#create-a-schema)

We recommend creating a schema to hold all the foreign tables:

```
1
create schema if not exists clerk;
```

## Options [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#options)

The full list of foreign table options are below:

- `object` \- Object name in Clerk, required.

Supported objects are listed below:

| Object name |
| --- |
| allowlist\_identifiers |
| blocklist\_identifiers |
| domains |
| invitations |
| jwt\_templates |
| oauth\_applications |
| organizations |
| organization\_invitations |
| organization\_memberships |
| redirect\_urls |
| saml\_connections |
| users |

## Entities [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#entities)

We can use SQL [import foreign schema](https://www.postgresql.org/docs/current/sql-importforeignschema.html) to import foreign table definitions from Clerk.

For example, using below SQL can automatically create foreign tables in the `clerk` schema.

```
1
-- create all the foreign tables
2
import foreign schema clerk from server clerk_server into clerk;
3

4
-- or, create selected tables only
5
import foreign schema clerk
6
   limit to ("users", "organizations")
7
   from server clerk_server into clerk;
8

9
-- or, create all foreign tables except selected tables
10
import foreign schema clerk
11
   except ("users")
12
   from server clerk_server into clerk;
```

### Allow-list [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#allow-list)

This is a list of all identifiers allowed to sign up to an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Allow-list-Block-list#operation/ListAllowlistIdentifiers)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| allowlist\_identifiers | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage)

```
1
create foreign table clerk.allowlist_identifiers (
2
  id text,
3
  invitation_id text,
4
  identifier text,
5
  identifier_type text,
6
  instance_id text,
7
  created_at timestamp,
8
  updated_at timestamp,
9
  attrs jsonb
10
)
11
  server clerk_server
12
  options (
13
    object 'allowlist_identifiers'
14
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes)

- The `attrs` column contains additional attributes in JSON format

### Block-list [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#block-list)

This is a list of all identifiers which are not allowed to access an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Allow-list-Block-list#operation/ListBlocklistIdentifiers)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-1)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| blocklist\_identifiers | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-1)

```
1
create foreign table clerk.blocklist_identifiers (
2
  id text,
3
  identifier text,
4
  identifier_type text,
5
  instance_id text,
6
  created_at timestamp,
7
  updated_at timestamp,
8
  attrs jsonb
9
)
10
  server clerk_server
11
  options (
12
    object 'blocklist_identifiers'
13
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-1)

- The `attrs` column contains additional attributes in JSON format

### Domains [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#domains)

This is a list of all domains for an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Domains#operation/ListDomains)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-2)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| domains | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-2)

```
1
create foreign table clerk.domains (
2
  id text,
3
  name text,
4
  is_satellite boolean,
5
  frontend_api_url text,
6
  accounts_portal_url text,
7
  attrs jsonb
8
)
9
  server clerk_server
10
  options (
11
    object 'domains'
12
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-2)

- The `attrs` column contains additional attributes in JSON format

### Invitations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#invitations)

This is a list of all non-revoked invitations for your application.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Invitations#operation/ListInvitations)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-3)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| invitations | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-3)

```
1
create foreign table clerk.invitations (
2
  id text,
3
  email_address text,
4
  url text,
5
  revoked boolean,
6
  status text,
7
  expires_at timestamp,
8
  created_at timestamp,
9
  updated_at timestamp,
10
  attrs jsonb
11
)
12
  server clerk_server
13
  options (
14
    object 'invitations'
15
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-3)

- The `attrs` column contains additional attributes in JSON format

### JWT Templates [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#jwt-templates)

This is a list of all JWT templates.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/JWT-Templates#operation/ListJWTTemplates)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-4)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| jwt\_templates | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-4)

```
1
create foreign table clerk.jwt_templates (
2
  id text,
3
  name text,
4
  lifetime bigint,
5
  allowed_clock_skew bigint,
6
  custom_signing_key boolean,
7
  signing_algorithm text,
8
  created_at timestamp,
9
  updated_at timestamp,
10
  attrs jsonb
11
)
12
  server clerk_server
13
  options (
14
    object 'jwt_templates'
15
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-4)

- The `attrs` column contains additional attributes in JSON format

### OAuth Applications [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#oauth-applications)

This is a list of OAuth applications for an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/OAuth-Applications#operation/ListOAuthApplications)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-5)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| oauth\_applications | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-5)

```
1
create foreign table clerk.oauth_applications (
2
  id text,
3
  name text,
4
  instance_id text,
5
  client_id text,
6
  public boolean,
7
  scopes text,
8
  created_at timestamp,
9
  updated_at timestamp,
10
  attrs jsonb
11
)
12
  server clerk_server
13
  options (
14
    object 'oauth_applications'
15
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-5)

- The `attrs` column contains additional attributes in JSON format

### Organizations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#organizations)

This is a list of organizations for an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Organizations#operation/ListOrganizations)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-6)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| organizations | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-6)

```
1
create foreign table clerk.organizations (
2
  id text,
3
  name text,
4
  slug text,
5
  created_at timestamp,
6
  updated_at timestamp,
7
  attrs jsonb
8
)
9
  server clerk_server
10
  options (
11
    object 'organizations'
12
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-6)

- The `attrs` column contains additional attributes in JSON format

### Organization Invitations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#organization-invitations)

This is a list of organization invitations for an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Organization-Invitations#operation/ListInstanceOrganizationInvitations)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-7)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| organization\_invitations | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-7)

```
1
create foreign table clerk.organization_invitations (
2
  id text,
3
  email_address text,
4
  role text,
5
  role_name text,
6
  organization_id text,
7
  status text,
8
  created_at timestamp,
9
  updated_at timestamp,
10
  attrs jsonb
11
)
12
  server clerk_server
13
  options (
14
    object 'organization_invitations'
15
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-7)

- The `attrs` column contains additional attributes in JSON format

### Organization Memberships [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#organization-memberships)

This is a list of organization user memberships for an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Organization-Memberships#operation/InstanceGetOrganizationMemberships)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-8)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| organization\_memberships | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-8)

```
1
create foreign table clerk.organization_memberships (
2
  id text,
3
  role text,
4
  role_name text,
5
  created_at timestamp,
6
  updated_at timestamp,
7
  attrs jsonb
8
)
9
  server clerk_server
10
  options (
11
    object 'organization_memberships'
12
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-8)

- The `attrs` column contains additional attributes in JSON format

### Redirect URLs [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#redirect-urls)

This is a list of all whitelisted redirect urls for the instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Redirect-URLs#operation/ListRedirectURLs)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-9)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| redirect\_urls | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-9)

```
1
create foreign table clerk.redirect_urls (
2
  id text,
3
  url text,
4
  created_at timestamp,
5
  updated_at timestamp,
6
  attrs jsonb
7
)
8
  server clerk_server
9
  options (
10
    object 'redirect_urls'
11
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-9)

- The `attrs` column contains additional attributes in JSON format

### SAML Connections [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#saml-connections)

This is a list of SAML Connections for an instance.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/SAML-Connections#operation/ListSAMLConnections)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-10)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| saml\_connections | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-10)

```
1
create foreign table clerk.saml_connections (
2
  id text,
3
  name text,
4
  domain text,
5
  active boolean,
6
  provider text,
7
  user_count bigint,
8
  created_at timestamp,
9
  updated_at timestamp,
10
  attrs jsonb
11
)
12
  server clerk_server
13
  options (
14
    object 'saml_connections'
15
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-10)

- The `attrs` column contains additional attributes in JSON format

### Users [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#users)

This is a list of all users.

Ref: [Clerk API docs](https://clerk.com/docs/reference/backend-api/tag/Users#operation/GetUserList)

#### Operations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#operations-11)

| Object | Select | Insert | Update | Delete | Truncate |
| --- | :-: | :-: | :-: | :-: | :-: |
| users | ✅ | ❌ | ❌ | ❌ | ❌ |

#### Usage [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#usage-11)

```
1
create foreign table clerk.users (
2
  id text,
3
  external_id text,
4
  username text,
5
  first_name text,
6
  last_name text,
7
  created_at timestamp,
8
  updated_at timestamp,
9
  attrs jsonb
10
)
11
  server clerk_server
12
  options (
13
    object 'users'
14
  );
```

#### Notes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#notes-11)

- The `attrs` column contains additional attributes in JSON format

## Query Pushdown Support [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#query-pushdown-support)

This FDW doesn't support query pushdown.

## Supported Data Types [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#supported-data-types)

| Postgres Data Type | Clerk Data Type |
| --- | --- |
| boolean | Boolean |
| bigint | Number |
| double precision | Number |
| text | String |
| timestamp | Time |
| jsonb | Json |

The Clerk API uses JSON formatted data, please refer to [Clerk Backend API docs](https://clerk.com/docs/reference/backend-api) for more details.

## Limitations [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#limitations)

This section describes important limitations and considerations when using this FDW:

- Large result sets may experience slower performance due to full data transfer requirement
- Query pushdown is not supported
- Materialized views using these foreign tables may fail during logical backups

## Examples [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#examples)

Below are some examples on how to use Clerk foreign tables.

### Basic example [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#basic-example)

This example will create a "foreign table" inside your Postgres database and query its data.

```
1
create foreign table clerk.users (
2
  id text,
3
  external_id text,
4
  username text,
5
  first_name text,
6
  last_name text,
7
  created_at timestamp,
8
  updated_at timestamp,
9
  attrs jsonb
10
)
11
  server clerk_server
12
  options (
13
    object 'users'
14
  );
15

16
-- query all users
17
select * from clerk.users;
```

`attrs` is a special column which stores all the object attributes in JSON format, you can extract any attributes needed from it. See more examples below.

### Query JSON attributes [\#](https://supabase.com/docs/guides/database/extensions/wrappers/clerk\#query-json-attributes)

```
1
-- extract all email addresses from user
2
select
3
  u.id,
4
  e->>'email_address' as email
5
from clerk.users u
6
  cross join json_array_elements((attrs->'email_addresses')::json) e;
```

[Edit this page on GitHub](https://github.com/supabase/wrappers/blob/docs_v0.5.6/docs/catalog/clerk.md)

### Is this helpful?

NoYes

### On this page

[Available Versions](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#available-versions) [Preparation](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#preparation) [Enable Wrappers](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#enable-wrappers) [Enable the Clerk Wrapper](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#enable-the-clerk-wrapper) [Store your credentials (optional)](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#store-your-credentials-optional) [Connecting to Clerk](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#connecting-to-clerk) [Create a schema](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#create-a-schema) [Options](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#options) [Entities](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#entities) [Allow-list](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#allow-list) [Block-list](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#block-list) [Domains](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#domains) [Invitations](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#invitations) [JWT Templates](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#jwt-templates) [OAuth Applications](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#oauth-applications) [Organizations](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#organizations) [Organization Invitations](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#organization-invitations) [Organization Memberships](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#organization-memberships) [Redirect URLs](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#redirect-urls) [SAML Connections](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#saml-connections) [Users](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#users) [Query Pushdown Support](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#query-pushdown-support) [Supported Data Types](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#supported-data-types) [Limitations](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#limitations) [Examples](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#examples) [Basic example](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#basic-example) [Query JSON attributes](https://supabase.com/docs/guides/database/extensions/wrappers/clerk#query-json-attributes)

- Need some help?
[Contact support](https://supabase.com/support)
- Latest product updates?
[See Changelog](https://supabase.com/changelog)
- Something's not right?
[Check system status](https://status.supabase.com/)

* * *

[© Supabase Inc](https://supabase.com/)— [Contributing](https://github.com/supabase/supabase/blob/master/apps/docs/DEVELOPERS.md) [Author Styleguide](https://github.com/supabase/supabase/blob/master/apps/docs/CONTRIBUTING.md) [Open Source](https://supabase.com/open-source) [SupaSquad](https://supabase.com/supasquad) Privacy Settings

[Twitter](https://twitter.com/supabase) [GitHub](https://github.com/supabase) [Discord](https://discord.supabase.com/) [Youtube](https://youtube.com/c/supabase)